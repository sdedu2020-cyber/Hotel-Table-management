"use strict";(()=>{var Y=Object.create;var d=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var te=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var ee=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of J(t))!Q.call(r,a)&&a!==e&&d(r,a,{get:()=>t[a],enumerable:!(o=Z(t,a))||o.enumerable});return r};var ne=(r,t,e)=>(e=r!=null?Y(K(r)):{},ee(t||!r||!r.__esModule?d(e,"default",{value:r,enumerable:!0}):e,r));var p=te((C,m)=>{m.exports=React});var _=te((H,f)=>{f.exports=ReactDOM});var x=p(),R=p(),v=p(),I=p(),u=p(),w=p(),S=p(),h=p(),A=p(),y=p(),B=p(),T=p(),k=p(),N=p(),E=p(),M=p(),P=p(),O=p(),F=p(),D=D||{};D.createRoot=_.createRoot;var re=p();function W(r,t){let[e,o]=R.useState(()=>{try{let a=window.localStorage.getItem(r);if(a===null||a==="undefined")return t;return a?JSON.parse(a):t}catch(a){return console.error("Error reading from localStorage",a),t}});return I.useEffect(()=>{try{window.localStorage.setItem(r,JSON.stringify(e))}catch(a){console.error("Error writing to localStorage",a)}),[r,e]),[e,o]}var G={Vacant:"Vacant",Occupied:"Occupied",NeedsBill:"Needs Bill"},U=Array.from({length:12},(r,t)=>({id:t+1,status:G.Vacant,order:[]}));function L({className:r}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"}))}function q({className:r}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"}))}function $({className:r}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))}function V({className:r}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))}function X({className:r}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H7a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm2-9V5a2 2 0 012-2h2a2 2 0 012 2v3m-4 6h.01"}))}function j({className:r}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}))}var oe={Vacant:"border-green-500 bg-green-500/10 hover:bg-green-500/20",Occupied:"border-yellow-500 bg-yellow-500/10 hover:bg-yellow-500/20",NeedsBill:"border-blue-500 bg-blue-500/10 hover:bg-blue-500/20"},ae=({table:r,onSelect:t})=>{let e=r.order.reduce((a,i)=>a+i.price*i.quantity,0);return S.createElement("div",{onClick:()=>t(r),className:`p-4 rounded-lg border-2 flex flex-col justify-between cursor-pointer transition-all duration-300 ${oe[r.status]}`},S.createElement("div",{className:"flex justify-between items-center"},S.createElement("h3",{className:"text-xl font-bold text-white"},"Table ",r.id),S.createElement("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${oe[r.status].replace("border-","bg-").replace("/10","")} text-gray-900`},r.status)),S.createElement("div",{className:"mt-4 text-center"},S.createElement("p",{className:"text-base text-gray-400"},"Order Total"),S.createElement("p",{className:"text-3xl font-mono font-bold text-white"},"\u20B9",e.toFixed(2))))},se=({tables:r,onSelectTable:t})=>h.createElement("div",null,h.createElement("h1",{className:"text-3xl font-bold text-gray-100 mb-6"},"Table Overview"),h.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},r.map(e=>h.createElement(ae,{key:e.id,table:e,onSelect:t})))),ie=({table:r,onClose:t,onUpdateOrder:e,onUpdateStatus:o,onRequestBill:a,onMarkAsPaid:i})=>{let n=s=>{let c=r.order.filter(l=>l.id!==s);e(r.id,c),c.length===0&&o(r.id,G.Vacant)},l=r.order.reduce((s,c)=>s+c.price*c.quantity,0);return A.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4"},A.createElement("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-xl max-h-[90vh] flex flex-col overflow-hidden"},A.createElement("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center"},A.createElement("h2",{className:"text-2xl font-bold"},"Table ",r.id," - Order"),A.createElement("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-700 transition-colors"},A.createElement(V,{className:"w-6 h-6"}))),A.createElement("div",{className:"flex-grow flex flex-col overflow-auto p-4"},A.createElement("div",{className:"flex-grow"},r.order.length===0?A.createElement("p",{className:"text-gray-400 text-center mt-8"},"No items in order."):A.createElement("ul",{className:"space-y-3"},r.order.map(s=>A.createElement("li",{key:s.id,className:"flex items-center bg-gray-900 p-3 rounded-md"},A.createElement("div",{className:"flex-grow"},A.createElement("p",{className:"font-semibold"},s.name),A.createElement("p",{className:"text-sm text-gray-400"},"\u20B9",s.price.toFixed(2))),A.createElement("div",{className:"flex items-center gap-3"},A.createElement("span",{className:"font-mono text-center"},"x ",s.quantity),A.createElement("p",{className:"w-20 text-right font-semibold"},"\u20B9",(s.price*s.quantity).toFixed(2)),A.createElement("button",{onClick:()=>n(s.id),className:"p-2 rounded-full hover:bg-red-500/20 text-red-400",_ariaLabel:`Remove ${s.name}`},A.createElement($,{className:"w-5 h-5"}))))))),A.createElement("div",{className:"mt-auto pt-4 border-t border-gray-700"},A.createElement("div",{className:"flex justify-between items-center text-2xl font-bold mb-4"},A.createElement("span",null,"Total:"),A.createElement("span",null,"\u20B9",l.toFixed(2))),A.createElement("div",{className:"grid grid-cols-2 gap-2"},A.createElement("button",{onClick:()=>a(r),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md transition-colors"},"Request Bill"),A.createElement("button",{onClick:()=>i(r.id),className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md transition-colors"},"Mark as Paid"))))))},ce=(r=>`\u20B9${r.toFixed(2)}`),le=({table:r,onClose:t,onMarkAsPaid:e})=>{let o=()=>{window.print()},a=r.order.reduce((l,s)=>l+s.price*s.quantity,0),i=a*.025,n=a*.025,c=a+i+n,g=new Date;return y.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4"},y.createElement("div",{className:"relative bg-gray-800 rounded-lg shadow-xl w-full max-w-md flex flex-col"},y.createElement("div",{id:"printable-area",className:"p-6 bg-white text-black font-mono text-xs w-[302px] mx-auto my-6 printable-content"},y.createElement("div",{className:"text-center"},y.createElement("h2",{className:"text-lg font-bold"},"Wix Restaurant"),y.createElement("p",{className:"text-[10px]"},"123 Gastronomy Lane, Foodie City"),y.createElement("p",{className:"text-[10px]"},"Phone: (123) 456-7890"),y.createElement("hr",{className:"border-t border-dashed border-black my-2"})),y.createElement("div",{className:"flex justify-between text-[10px]"},y.createElement("span",null,"Bill No: ",(Math.random()*1e5).toFixed(0)),y.createElement("span",null,"Table: ",r.id)),y.createElement("div",{className:"flex justify-between text-[10px]"},y.createElement("span",null,"Date: ",g.toLocaleDateString("en-IN")),y.createElement("span",null,"Time: ",g.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}))),y.createElement("hr",{className:"border-t border-dashed border-black my-2"}),y.createElement("table",{className:"w-full text-[11px]"},y.createElement("thead",null,y.createElement("tr",{className:"border-b border-dashed border-black"},y.createElement("th",{className:"text-left font-semibold pb-1"},"Item"),y.createElement("th",{className:"text-center font-semibold pb-1"},"Qty"),y.createElement("th",{className:"text-right font-semibold pb-1"},"Price"),y.createElement("th",{className:"text-right font-semibold pb-1"},"Total"))),y.createElement("tbody",null,r.order.map(l=>y.createElement("tr",{key:l.id},y.createElement("td",{className:"text-left pr-1 py-1"},l.name),y.createElement("td",{className:"text-center py-1"},l.quantity),y.createElement("td",{className:"text-right py-1"},l.price.toFixed(2)),y.createElement("td",{className:"text-right py-1"},(l.quantity*l.price).toFixed(2)))))),y.createElement("hr",{className:"border-t border-dashed border-black my-2"}),y.createElement("div",{className:"space-y-1 text-xs"},y.createElement("div",{className:"flex justify-between"},y.createElement("span",null,"Subtotal:"),y.createElement("span",null,a.toFixed(2))),y.createElement("div",{className:"flex justify-between"},y.createElement("span",null,"CGST @2.5%:"),y.createElement("span",null,i.toFixed(2))),y.createElement("div",{className:"flex justify-between"},y.createElement("span",null,"SGST @2.5%:"),y.createElement("span",null,n.toFixed(2)))),y.createElement("hr",{className:"border-t border-dashed border-black my-2"}),y.createElement("div",{className:"flex justify-between font-bold text-sm"},y.createElement("span",null,"TOTAL:"),y.createElement("span",null,ce(c))),y.createElement("hr",{className:"border-t border-dashed border-black my-2"}),y.createElement("p",{className:"text-center mt-4 text-[10px]"},"Thank you for your visit!")),y.createElement("div",{className:"p-4 bg-gray-700 rounded-b-lg grid grid-cols-2 gap-4"},y.createElement("button",{onClick:o,className:"flex items-center justify-center gap-2 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md transition-colors"},y.createElement(X,{className:"w-5 h-5"}),"Print Bill"),y.createElement("button",{onClick:()=>e(r.id),className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md transition-colors"},"Mark as Paid")),y.createElement("button",{onClick:t,className:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-600 transition-colors"},y.createElement(V,{className:"w-6 h-6 text-white"}))))},ue=({tables:r,menu:t,categories:e,onClose:o,onCreateOrder:a})=>{let[i,n]=B.useState(r.length>0?r[0].id:null),[c,g]=B.useState([]),[l,s]=B.useState(null),[b,M]=B.useState(!0);const E=(P)=>{const F=c.find(A=>A.id===P.id);let T;F?T=c.map(A=>A.id===P.id?{...A,quantity:A.quantity+1}:A):T=[...c,{...P,quantity:1}],g(T)},O=(P,F)=>{const A=c.map(T=>T.id===P?{...T,quantity:Math.max(1,T.quantity+F)}:T);g(A)},v=P=>{let F=c.filter(A=>A.id!==P);g(F)},k=()=>{c.length>0&&a(i,c)},N=P=>{s(P),M(!1)},D=()=>{M(!0),s(null)};let F=c.reduce((P,F)=>P+F.price*F.quantity,0);return T.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4"},T.createElement("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col overflow-hidden"},T.createElement("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center"},T.createElement("h2",{className:"text-2xl font-bold"},"New Order"),T.createElement("button",{onClick:o,className:"p-2 rounded-full hover:bg-gray-700 transition-colors"},T.createElement(V,{className:"w-6 h-6"}))),T.createElement("div",{className:"flex-grow flex flex-col md:flex-row overflow-hidden"},T.createElement("div",{className:"w-full md:w-2/5 flex flex-col p-4 border-r border-gray-700"},T.createElement("div",{className:"mb-4"},T.createElement("label",{htmlFor:"table-select",className:"block text-sm font-medium text-gray-300 mb-1"},"Select Table"),T.createElement("select",{id:"table-select",value:i??"",onChange:P=>n(Number(P.target.value)),disabled:r.length===0,className:"w-full bg-gray-900 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none disabled:bg-gray-800 disabled:cursor-not-allowed"},r.length>0?r.map(P=>T.createElement("option",{key:P.id,value:P.id},"Table ",P.id)):T.createElement("option",null,"No vacant tables"))),T.createElement("h3",{className:"text-xl font-semibold mb-2"},"Order Items"),T.createElement("div",{className:"flex-grow overflow-y-auto pr-2"},c.length===0?T.createElement("div",{className:"flex flex-col items-center justify-center h-full text-gray-500"},T.createElement("p",null,"No items added yet."),T.createElement("p",{className:"text-sm"},"Select items from the menu.")):T.createElement("ul",{className:"space-y-3"},c.map(P=>T.createElement("li",{key:P.id,className:"flex items-center bg-gray-900 p-3 rounded-md"},T.createElement("div",{className:"flex-grow"},T.createElement("p",{className:"font-semibold"},P.name),T.createElement("p",{className:"text-sm text-gray-400"},"\u20B9",P.price.toFixed(2))),T.createElement("div",{className:"flex items-center gap-2"},T.createElement("button",{onClick:()=>O(P.id,-1),className:"p-1 rounded-full hover:bg-gray-700"},T.createElement(q,{className:"w-4 h-4"})),T.createElement("span",{className:"font-mono w-6 text-center"},P.quantity),T.createElement("button",{onClick:()=>O(P.id,1),className:"p-1 rounded-full hover:bg-gray-700"},T.createElement(L,{className:"w-4 h-4"})),T.createElement("button",{onClick:()=>v(P.id),className:"p-1 rounded-full hover:bg-red-500/20 text-red-400"},T.createElement($,{className:"w-4 h-4"}))),T.createElement("p",{className:"w-20 text-right font-semibold"},"\u20B9",(P.price*P.quantity).toFixed(2)))))),T.createElement("div",{className:"mt-auto pt-4 border-t border-gray-700"},T.createElement("div",{className:"flex justify-between items-center text-2xl font-bold mb-4"},T.createElement("span",null,"Total:"),T.createElement("span",null,"\u20B9",F.toFixed(2))),T.createElement("button",{onClick:k,disabled:!i||c.length===0,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-900 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-md transition-colors"},"Create Order"))),T.createElement("div",{className:"w-full md:w-3/5 flex flex-col p-4"},T.createElement("div",{className:"flex justify-between items-center mb-4"},T.createElement("h3",{className:"text-xl font-semibold"},"Menu"),!b&&T.createElement("button",{onClick:D,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-3 rounded-md transition-colors flex items-center gap-2",_ariaLabel:"Show menu categories"},T.createElement(j,{className:"w-5 h-5"}),T.createElement("span",null,"Categories"))),T.createElement("div",{className:"flex-grow flex gap-4 overflow-hidden"},b&&T.createElement("nav",{className:"w-48 flex-shrink-0 bg-gray-900/50 rounded-lg p-2 overflow-y-auto"},T.createElement("ul",{className:"space-y-1"},e.map(P=>T.createElement("li",{key:P},T.createElement("button",{onClick:()=>N(P),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${l===P?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`},P))))),T.createElement("div",{className:"flex-grow overflow-y-auto pr-2"},!l?T.createElement("div",{className:"flex flex-col items-center justify-center h-full text-gray-500"},T.createElement(j,{className:"w-16 h-16 mb-4"}),T.createElement("h3",{className:"text-lg font-semibold"},"Select a category"),T.createElement("p",{className:"text-sm"},"Choose a category to see menu items.")):T.createElement("div",{className:`grid gap-3 ${b?"grid-cols-1 xl:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"}`},t.filter(P=>P.category===l).map(P=>T.createElement("div",{key:P.id,onClick:()=>E(P),className:"bg-gray-700/50 p-3 rounded-md hover:bg-gray-700 cursor-pointer transition-colors flex flex-col h-full"},T.createElement("div",{className:"flex-grow"},T.createElement("div",{className:"flex justify-between items-start"},T.createElement("h4",{className:"font-semibold text-white pr-2"},P.name),T.createElement("p",{className:"font-semibold text-white whitespace-nowrap"},"\u20B9",P.price.toFixed(2))),T.createElement("p",{className:"text-sm text-gray-400 mt-1"},P.description)),T.createElement("div",{className:"flex justify-end mt-2"},T.createElement("button",{_ariaLabel:`Add ${P.name} to order`,className:"text-purple-400"},T.createElement(L,{className:"w-5 h-5"}))))))))))))},de=({categories:r,onClose:t,onAddItem:e,onAddCategory:o})=>{let[a,i]=M.useState(""),[n,c]=M.useState(""),[g,l]=M.useState(r[0]||""),[s,b]=M.useState(""),[E,O]=M.useState({name:"",price:""});P.useEffect(()=>{r.includes(g)||l(r[0]||"")},[r,g]);let F=()=>{let N={name:"",price:""},v=!0;return a.trim()||(N.name="Item name is required.",v=!1),isNaN(parseFloat(n))||parseFloat(n)<=0?(N.price="Please enter a valid positive price.",v=!1):N.price="",O(N),v},A=()=>{let N=window.prompt("Enter new category name:");N&&N.trim()!==""&&(o(N.trim()),l(N.trim()))},k=N=>{N.preventDefault(),F()&&(e({name:a,price:parseFloat(n),category:g,description:s}),t())};return E.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4"},E.createElement("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md flex flex-col overflow-hidden"},E.createElement("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center"},E.createElement("h2",{className:"text-2xl font-bold"},"Add New Menu Item"),E.createElement("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-700 transition-colors"},E.createElement(V,{className:"w-6 h-6"}))),E.createElement("form",{onSubmit:k,noValidate:!0},E.createElement("div",{className:"p-6 space-y-4"},E.createElement("div",null,E.createElement("label",{htmlFor:"item-name",className:"block text-sm font-medium text-gray-300 mb-1"},"Item Name"),E.createElement("input",{type:"text",id:"item-name",value:a,onChange:N=>i(N.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0,_ariaInvalid:!!E.name,_ariaDescribedby:"item-name-error"}),E.name&&E.createElement("p",{id:"item-name-error",className:"text-red-400 text-xs mt-1"},E.name)),E.createElement("div",null,E.createElement("label",{htmlFor:"item-price",className:"block text-sm font-medium text-gray-300 mb-1"},"Price (Rate)"),E.createElement("input",{type:"number",id:"item-price",value:n,onChange:N=>c(N.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none",required:!0,min:"0.01",step:"0.01",_ariaInvalid:!!E.price,_ariaDescribedby:"item-price-error"}),E.price&&E.createElement("p",{id:"item-price-error",className:"text-red-400 text-xs mt-1"},E.price)),E.createElement("div",null,E.createElement("label",{htmlFor:"item-category",className:"block text-sm font-medium text-gray-300 mb-1"},"Category"),E.createElement("select",{id:"item-category",value:g,onChange:N=>l(N.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none"},r.length===0&&E.createElement("option",null,"Please add a category first"),r.map(N=>E.createElement("option",{key:N,value:N},N)))),E.createElement("div",null,E.createElement("label",{htmlFor:"item-description",className:"block text-sm font-medium text-gray-300 mb-1"},"Description"),E.createElement("textarea",{id:"item-description",rows:3,value:s,onChange:N=>b(N.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"Optional description of the item."}))),E.createElement("footer",{className:"p-4 bg-gray-700/50 flex justify-between items-center gap-3"},E.createElement("button",{type:"button",onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-colors"},"Add Category"),E.createElement("div",{className:"flex gap-3"},E.createElement("button",{type:"button",onClick:t,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition-colors"},"Cancel"),E.createElement("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition-colors"},"Add Item"))))))},pe=()=>{let[r,t]=W("restaurant_tables",U),[e,o]=W("restaurant_menu",[]),[a,i]=W("restaurant_categories",[]),[n,c]=O.useState(null),[g,l]=O.useState(null),[s,b]=O.useState(!1),[E,P]=O.useState(!1),F=M=>{M.status===G.NeedsBill?l(M):M.status===G.Vacant?b(!0):c(M)},A=()=>{c(null)},k=()=>{l(null)},N=F.useCallback((C,H)=>{t(m=>m.map(f=>f.id===C?{...f,order:H}:f)),n&&n.id===C&&c(m=>m?{...m,order:H}:null)},[n,t]),D=F.useCallback((C,H)=>{t(m=>m.map(f=>f.id===C?{...f,status:H}:f)),n&&n.id===C&&c(m=>m?{...m,status:H}:null)},[n,t]),v=F.useCallback(C=>{t(m=>m.map(f=>f.id===C.id?{...f,status:G.NeedsBill}:f)),c(null),l({...C,status:G.NeedsBill})},[t]),B=F.useCallback(C=>{t(m=>m.map(f=>f.id===C?{...f,order:[],status:G.Vacant}:f)),n&&n.id===C&&c(null),g&&g.id===C&&l(null)},[n,g,t]),p=F.useCallback((C,H)=>{H.length>0&&t(m=>m.map(f=>f.id===C?{...f,order:H,status:G.Occupied}:f)),b(!1)},[t]),y=F.useCallback(C=>{o(m=>{let H=Math.max(0,...m.map(y=>y.id))+1;return[...m,{...C,id:H}]})},[o]),_=F.useCallback(C=>{i(m=>m.includes(C)?m:[...m,C])},[i]);return re.createElement("div",{className:"min-h-screen bg-gray-900 text-white font-sans"},re.createElement("header",{className:"bg-gray-900/80 backdrop-blur-sm sticky top-0 z-10 p-4 border-b border-gray-700"},re.createElement("div",{className:"flex justify-between items-center container mx-auto"},re.createElement("h1",{className:"text-2xl font-bold text-purple-400"},"Wix Restaurant POS"),re.createElement("div",{className:"flex items-center gap-4"},re.createElement("button",{onClick:()=>P(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-colors flex items-center gap-2",_ariaLabel:"Add new menu item"},re.createElement(j,{className:"w-5 h-5"}),re.createElement("span",{className:"hidden sm:inline"},"Add Item")),re.createElement("button",{onClick:()=>b(!0),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-md transition-colors flex items-center gap-2",_ariaLabel:"Create new order"},re.createElement(L,{className:"w-5 h-5"}),re.createElement("span",{className:"hidden sm:inline"},"New Order"))))),re.createElement("main",{className:"container mx-auto"},re.createElement("div",{className:"p-4 sm:p-6 md:p-8"},re.createElement(se,{tables:r,onSelectTable:F}))),n&&re.createElement(ie,{table:n,onClose:A,onUpdateOrder:N,onUpdateStatus:D,onRequestBill:v,onMarkAsPaid:B}),g&&re.createElement(le,{table:g,onClose:k,onMarkAsPaid:B}),s&&re.createElement(ue,{tables:r.filter(C=>C.status===G.Vacant),menu:e,categories:a,onClose:()=>b(!1),onCreateOrder:p}),E&&re.createElement(de,{categories:a,onClose:()=>P(!1),onAddItem:y,onAddCategory:_}))};const fe=document.getElementById("root");D.createRoot(fe).render(v.createElement(v.StrictMode,null,v.createElement(pe)));})();
